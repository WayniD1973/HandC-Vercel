const profilePictureElement=document.getElementById("profile-pic"),fileUpload=document.getElementById("file-upload"),usernameField=document.getElementById("username"),displayNameField=document.getElementById("display-name"),bioField=document.getElementById("bio");var profileSaveChangesButton=document.getElementById("saveProfileChanges"),username="",bio="",profilePicture="",banned="",suspended="",id="",banReason="",suspensionEnd="",currentDisplayNameValue=displayNameField.value;console.log("Bearer "+accessCookie("connectionToken"));const urlPath=window.location.pathname,scrollTopLink=(window.onload=function(){profilePictureElement.src=profilePicture},profilePictureElement.addEventListener("click",e=>{fileUpload.click()}),fileUpload.addEventListener("change",e=>{var e=e.target.files[0];e.type.includes("image/")?(e=URL.createObjectURL(e),profilePictureElement.src=e):alert("Please select an image file.")}),displayNameField.addEventListener("blur",e=>{var n=displayNameField.value.trim();""!==n&&n!==displayNameField.value&&(displayNameField.value=n)}),document.querySelector(".scroll-top")),dropdown=(scrollTopLink.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}),document.querySelector(".dropdown")),dropdownContent=document.querySelector(".dropdown-content");var dropdownActive=!1,currentDisplayNameValue=(dropdown.addEventListener("click",()=>{1!=dropdownActive&&0==dropdownActive?(dropdownActive=!0,dropdownContent.style.display="block"):(dropdownActive=!1,dropdownContent.style.display="none")}),fetch("https://login-finished.wumpus-dev.repl.co/getUsername",{method:"GET",headers:{Accept:"application/json",authorization:"Bearer "+accessCookie("connectionToken")}}).then(e=>e.json()).then(e=>{username=e.username.split("@")[1],usernameField.value=username}),setTimeout(function(){fetch("https://login-finished.wumpus-dev.repl.co/users/@"+username,{method:"GET",headers:{Accept:"application/json",authorization:"Bearer "+accessCookie("connectionToken")}}).then(e=>e.json()).then(e=>{bio=e.bio,profilePicture=e.pfp_url;e.admin,banned=e.banned,suspended=e.suspended,id=e.id,e.bot;banReason=e.ban_reason,suspensionEnd=e.suspension_end,bioField.value=bio})},2e3),displayNameField.value);function countCharacters(e,n){console.log("Counter");e=document.getElementById(e).value.length();document.getElementById(n).innerText=e}usernameField.addEventListener("keyup",()=>{username==usernameField.value?profileSaveChangesButton.disabled=!0:profileSaveChangesButton.disabled=!1}),bioField.addEventListener("keyup",()=>{bio==bioField.value?profileSaveChangesButton.disabled=!0:profileSaveChangesButton.disabled=!1});