const profilePic=document.getElementById("profile-pic"),fileUpload=document.getElementById("file-upload"),usernameField=document.getElementById("username"),displayNameField=document.getElementById("display-name"),urlPath=window.location.pathname,username=urlPath.split("/")[2],scrollTopLink=(usernameField.value=username,fetch("https://login.h-and-c.co.uk/assets/profile/@"+username+"/displayName.txt").then(e=>e.text()).then(e=>displayNameField.value=e),profilePic.addEventListener("click",e=>{fileUpload.click()}),fileUpload.addEventListener("change",e=>{var e=e.target.files[0];e.type.includes("image/")?(e=URL.createObjectURL(e),profilePic.src=e):alert("Please select an image file.")}),displayNameField.addEventListener("blur",e=>{var l=displayNameField.value.trim();""!==l&&l!==displayNameField.value&&(displayNameField.value=l,fetch("https://login.h-and-c.co.uk/assets/profile/@"+username+"/displayName.txt",{method:"PUT",body:l}).then(e=>e.text()).then(e=>console.log(e)).catch(e=>console.log(e)))}),document.querySelector(".scroll-top a"));scrollTopLink.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})});